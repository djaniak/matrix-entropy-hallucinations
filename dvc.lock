schema: '2.0'
stages:
  eval_answers@llama_3.1_8b_instruct-nq_open-sampling_high_temp_with_activations-short_few_shot_sep-42:
    cmd: PYTHONPATH=. python scripts/eval/compute_qa_metrics.py 
      --answers-file=data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/answers.json
    deps:
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/answers.json
      hash: md5
      md5: 57342552d321ae714edc290714ef035f
      size: 512430
    - path: scripts/eval/compute_qa_metrics.py
      hash: md5
      md5: b63d40134fb7302886be4e23440770fb
      size: 1111
    outs:
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/metrics.json
      hash: md5
      md5: 47406d9e30cf1fac9680e70c27f3acfb
      size: 528007
  ? eval_answers_llm_as_judge@llama_3.1_8b_instruct-nq_open-sampling_high_temp_with_activations-short_few_shot_sep-42-llm_as_judge/qa_eval
  : cmd: PYTHONPATH=. python scripts/eval/llm_as_judge.py 
      answers_file=data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/answers.json
      prompt=llm_as_judge/qa_eval
    deps:
    - path: config/llm_as_judge.yaml
      hash: md5
      md5: e8fc39776c7f5d71c83cdcbf5495ca0b
      size: 103
    - path: config/prompt/llm_as_judge/qa_eval.yaml
      hash: md5
      md5: 73bf42b5a906882c0cef101f79d5f793
      size: 846
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/answers.json
      hash: md5
      md5: 57342552d321ae714edc290714ef035f
      size: 512430
    - path: scripts/eval/llm_as_judge.py
      hash: md5
      md5: c42cbbb860fc201970f45c39de6ff4ec
      size: 2870
    outs:
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/llm_judge.json
      hash: md5
      md5: 297f9e989ea71562b90b0f5987034d10
      size: 49555
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/llm_judge_config.yaml
      hash: md5
      md5: 0eb983d944f4f1bbf742421d6de20620
      size: 1187
  generate_activations@llama_3.1_8b_instruct-nq_open-sampling_high_temp_with_activations-short_few_shot_sep-42:
    cmd: PYTHONPATH=. python scripts/dataset/generate_activations.py dataset=nq_open
      llm=llama_3.1_8b_instruct generation_config=sampling_high_temp_with_activations
      prompt=qa/short_few_shot_sep 
      results_dir=data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42
      random_seed=42
    deps:
    - path: config/dataset/nq_open.yaml
      hash: md5
      md5: 036dbf030728a32380d37e8b5d8eb10d
      size: 225
    - path: config/generate_activations.yaml
      hash: md5
      md5: d05c9b458e5ed1ab2a74d49091775825
      size: 178
    - path: config/generation_config/sampling_high_temp_with_activations.yaml
      hash: md5
      md5: 6592f605f02ce8e02367ac02ba801856
      size: 216
    - path: config/llm/llama_3.1_8b_instruct.yaml
      hash: md5
      md5: 78264c8dc994e232613e106496f704b2
      size: 209
    - path: config/prompt/qa/short_few_shot_sep.yaml
      hash: md5
      md5: ec4cc2bd4ee97bd518839d2211cfe20c
      size: 597
    - path: scripts/dataset/generate_activations.py
      hash: md5
      md5: 9fb8dbf7fd32979337d98dad9f27ed25
      size: 2673
    outs:
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/activations
      hash: md5
      md5: 98ecf712f51f5fadc32eb19832047383.dir
      size: 193958552306
      nfiles: 57
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/answers.json
      hash: md5
      md5: 57342552d321ae714edc290714ef035f
      size: 512430
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations__prompt_short_few_shot_sep__seed_42/config.yaml
      hash: md5
      md5: b49671ad6001287a1f53e8d87873c979
      size: 1363
