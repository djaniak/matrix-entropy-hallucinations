schema: '2.0'
stages:
  generate_activations@llama_3.1_8b_instruct-nq_open-42:
    cmd: PYTHONPATH=. python scripts/dataset/generate_activations.py dataset=nq_open
      llm=llama_3.1_8b_instruct prompt=qa/short_few_shot_sep results_dir=data/activations/nq_open/llama_3.1_8b_instruct/seed_42
      random_seed=42
    deps:
    - path: config/dataset/nq_open.yaml
      hash: md5
      md5: de5cd8a37fdcc5cf87fcd9d14a67f9c0
      size: 198
    - path: config/llm/llama_3.1_8b_instruct.yaml
      hash: md5
      md5: 56cc0287eeb8a816ba1d3a4bf086232f
      size: 182
    - path: scripts/dataset/generate_activations.py
      hash: md5
      md5: 1b3eaafffac1bf514e239a025007c781
      size: 2706
    outs:
    - path: data/activations/nq_open/llama_3.1_8b_instruct/seed_42/answers.jsonl
      hash: md5
      md5: 7a4987edf4275f2ce010a3129be174b1
      size: 493220
    - path: data/activations/nq_open/llama_3.1_8b_instruct/seed_42/config.yaml
      hash: md5
      md5: 23ea7fee88bb03efd6a3892e0d6ae111
      size: 1145
    - path: data/activations/nq_open/llama_3.1_8b_instruct/seed_42/metrics.json
      hash: md5
      md5: 509f05698e22ada78f6feab9c35e6147
      size: 210391
  generate_activations@llama_3.1_8b_instruct-nq_open-sampling_high_temp_with_activations-42:
    cmd: PYTHONPATH=. python scripts/dataset/generate_activations.py dataset=nq_open
      llm=llama_3.1_8b_instruct generation_config=sampling_high_temp_with_activations
      prompt=qa/short_few_shot_sep 
      results_dir=data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42
      random_seed=42
    deps:
    - path: config/dataset/nq_open.yaml
      hash: md5
      md5: de5cd8a37fdcc5cf87fcd9d14a67f9c0
      size: 198
    - path: config/generate_activations.yaml
      hash: md5
      md5: 6c6c2eefb4f9665062fc0aa6726c79ef
      size: 144
    - path: config/generation_config/sampling_high_temp_with_activations.yaml
      hash: md5
      md5: 3f0d29806c8793bcfcbb891fb31c0663
      size: 197
    - path: config/llm/llama_3.1_8b_instruct.yaml
      hash: md5
      md5: 78264c8dc994e232613e106496f704b2
      size: 209
    - path: scripts/dataset/generate_activations.py
      hash: md5
      md5: 4dac05eeca54a9f337e33f171e2afa76
      size: 2800
    outs:
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/activations
      hash: md5
      md5: 54125409f88ea0f3eb22f236b1bc0819.dir
      size: 311926788963
      nfiles: 114
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/answers.jsonl
      hash: md5
      md5: be1bd6854d6195d061f51304df45bb1a
      size: 515779
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/config.yaml
      hash: md5
      md5: 573a01361395da4eb32020549c39e366
      size: 1269
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/metrics.json
      hash: md5
      md5: f6f71b7a31643f19e3b94e29249ee3d7
      size: 210271
  generate_activations@phi_3.5_mini_instruct-nq_open-sampling_high_temp_with_activations-42:
    cmd: PYTHONPATH=. python scripts/dataset/generate_activations.py dataset=nq_open
      llm=phi_3.5_mini_instruct generation_config=sampling_high_temp_with_activations
      prompt=qa/short_few_shot_sep 
      results_dir=data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42
      random_seed=42
    deps:
    - path: config/dataset/nq_open.yaml
      hash: md5
      md5: de5cd8a37fdcc5cf87fcd9d14a67f9c0
      size: 198
    - path: config/generate_activations.yaml
      hash: md5
      md5: 6c6c2eefb4f9665062fc0aa6726c79ef
      size: 144
    - path: config/generation_config/sampling_high_temp_with_activations.yaml
      hash: md5
      md5: 3f0d29806c8793bcfcbb891fb31c0663
      size: 197
    - path: config/llm/phi_3.5_mini_instruct.yaml
      hash: md5
      md5: b9ef38263debdce2d9b72fb78e76cb02
      size: 203
    - path: scripts/dataset/generate_activations.py
      hash: md5
      md5: 4dac05eeca54a9f337e33f171e2afa76
      size: 2800
    outs:
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/activations
      hash: md5
      md5: f1e89ba2710c3bb5cf9f91b0671428d6.dir
      size: 250877662051
      nfiles: 114
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/answers.jsonl
      hash: md5
      md5: 1c05cfc362441b20af119e1f47f01e2b
      size: 478593
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/config.yaml
      hash: md5
      md5: e514b0b0be0b5932fe706c6c0829c846
      size: 1257
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/metrics.json
      hash: md5
      md5: cc45cec9f7cea2c258a039f193b73ab4
      size: 211201
  ? eval_answers_llm_as_judge@data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42-llm_as_judge/qa_eval
  : cmd: PYTHONPATH=. python scripts/eval/llm_as_judge.py 
      answers_file=data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/answers.jsonl
      prompt=llm_as_judge/qa_eval
    deps:
    - path: config/llm_as_judge.yaml
      hash: md5
      md5: e8fc39776c7f5d71c83cdcbf5495ca0b
      size: 103
    - path: config/prompt/llm_as_judge/qa_eval.yaml
      hash: md5
      md5: d88f359f67971bf7f5c555679b188275
      size: 721
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/answers.jsonl
      hash: md5
      md5: be1bd6854d6195d061f51304df45bb1a
      size: 515779
    - path: scripts/eval/llm_as_judge.py
      hash: md5
      md5: fea54d09affcbdefb6e109134df192e0
      size: 4154
    outs:
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/llm_judge.json
      hash: md5
      md5: 52d18f6c782fed964e4761670f534e3d
      size: 48756
    - path: 
        data/activations/nq_open/llama_3.1_8b_instruct/sampling_high_temp_with_activations/seed_42/llm_judge_config.yaml
      hash: md5
      md5: f6fa69aad51b121c39b76769de9c6a4e
      size: 1035
  ? eval_answers_llm_as_judge@data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42-llm_as_judge/qa_eval
  : cmd: PYTHONPATH=. python scripts/eval/llm_as_judge.py 
      answers_file=data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/answers.jsonl
      prompt=llm_as_judge/qa_eval
    deps:
    - path: config/llm_as_judge.yaml
      hash: md5
      md5: e8fc39776c7f5d71c83cdcbf5495ca0b
      size: 103
    - path: config/prompt/llm_as_judge/qa_eval.yaml
      hash: md5
      md5: d88f359f67971bf7f5c555679b188275
      size: 721
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/answers.jsonl
      hash: md5
      md5: 1c05cfc362441b20af119e1f47f01e2b
      size: 478593
    - path: scripts/eval/llm_as_judge.py
      hash: md5
      md5: fea54d09affcbdefb6e109134df192e0
      size: 4154
    outs:
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/llm_judge.json
      hash: md5
      md5: 2a688039387a10c50ca11f83bf21a0e5
      size: 49328
    - path: 
        data/activations/nq_open/phi_3.5_mini_instruct/sampling_high_temp_with_activations/seed_42/llm_judge_config.yaml
      hash: md5
      md5: ef4afec7a1fc3e8755bd02de7164afc1
      size: 1035
